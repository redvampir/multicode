# –ü—Ä–æ–±–ª–µ–º–∞ —Å –ö–æ–¥–∏—Ä–æ–≤–∫–æ–π –≤ Windows

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 16 –¥–µ–∫–∞–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ—à–µ–Ω–æ + –ó–∞—â–∏—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Windows –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:

```
CMake Error: The source directory "F:/MultiCode/‚ï®–¨‚ï§–ì‚ï®‚ïó‚ï§–ú‚ï§–í‚ï®‚ïï‚ï®–™‚ï®‚ïõ‚ï®‚î§" does not exist.
```

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:**  
CMake –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–ª –ø—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π Windows-1251 –≤–º–µ—Å—Ç–æ UTF-8, –∏–∑-–∑–∞ —á–µ–≥–æ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∏—Å—å –≤ –∫—Ä–∞–∫–æ–∑—è–±—Ä—ã.

---

## üîç –ü–æ—á–µ–º—É –≠—Ç–æ –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

### –í–∏–Ω–æ–≤–Ω–∏–∫–∏ (–≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è –≤–∏–Ω—ã):

1. **Windows** (90% –≤–∏–Ω—ã)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç CP-1251 –¥–ª—è –∫–æ–Ω—Å–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - PowerShell –¥–æ –≤–µ—Ä—Å–∏–∏ 7 –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç UTF-8
   - –°–∏—Å—Ç–µ–º–Ω—ã–µ API –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—É—Ç–∏ –≤ ANSI, –∞ –Ω–µ Unicode

2. **CMake** (5% –≤–∏–Ω—ã)
   - –ö—ç—à–∏—Ä—É–µ—Ç –ø—É—Ç–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –ù–µ –ø–µ—Ä–µ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–º–µ–Ω–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏
   - `CMakeCache.txt` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—É—Ç–∏ "–∫–∞–∫ –µ—Å—Ç—å"

3. **MSVC** (3% –≤–∏–Ω—ã)
   - –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –æ–∂–∏–¥–∞–µ—Ç UTF-8 BOM –¥–ª—è –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
   - –õ–∏–Ω–∫–µ—Ä –º–æ–∂–µ—Ç –ª–æ–º–∞—Ç—å—Å—è –Ω–∞ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç—è—Ö –≤ PDB

4. **VS Code** (2% –≤–∏–Ω—ã)
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ —Ñ–æ—Ä—Å–∏—Ç UTF-8 –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç PowerShell 5.1 –≤–º–µ—Å—Ç–æ 7.x
   - –ù–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π

5. **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫** (0% –≤–∏–Ω—ã, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ —Å—Ç—Ä–∞–¥–∞–µ—Ç)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—É –≤ –ø—É—Ç—è—Ö, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ —Ä–æ–¥–Ω–æ–π —è–∑—ã–∫
   - –û–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –≤ 2025 –≥–æ–¥—É Unicode –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –≤–µ–∑–¥–µ
   - –ù–∞–∏–≤–Ω–æ –ø–æ–ª–∞–≥–∞–µ—Ç, —á—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —É–º–µ—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–µ-ASCII —Å–∏–º–≤–æ–ª–∞–º–∏

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –°–∫—Ä–∏–ø—Ç –°–±–æ—Ä–∫–∏

–°–æ–∑–¥–∞–Ω [`scripts/build-cmake-utf8.ps1`](../scripts/build-cmake-utf8.ps1):

```powershell
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ UTF-8
[Console]::OutputEncoding = [System.Text.Encoding]::UTF8
[Console]::InputEncoding = [System.Text.Encoding]::UTF8
$env:PYTHONUTF8 = "1"
$env:LC_ALL = "C.UTF-8"
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ UTF-8
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Ç–∏ –Ω–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü—É —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ build –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (`-Clean`)
- ‚úÖ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (`-RunTests`)
- ‚úÖ –í—ã–±–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`-Configuration Release|Debug`)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```powershell
# –û–±—ã—á–Ω–∞—è —Å–±–æ—Ä–∫–∞
.\scripts\build-cmake-utf8.ps1

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å —Ç–µ—Å—Ç–∞–º–∏
.\scripts\build-cmake-utf8.ps1 -Clean -RunTests

# Debug –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
.\scripts\build-cmake-utf8.ps1 -Configuration Debug
```

### 2. –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ VS Code Tasks

–í—Å–µ —Ç–∞—Å–∫–∏ –≤ [`.vscode/tasks.json`](../.vscode/tasks.json) —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∑–∞—â–∏—â—ë–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:

```json
{
  "label": "üèóÔ∏è –°–±–æ—Ä–∫–∞ C++ (Release)",
  "type": "shell",
  "command": "powershell",
  "args": [
    "-ExecutionPolicy", "Bypass",
    "-File", "${workspaceFolder}/scripts/build-cmake-utf8.ps1",
    "-Configuration", "Release"
  ]
}
```

### 3. –ó–∞—â–∏—Ç–∞ –≤ CI/CD

GitHub Actions (`.github/workflows/cpp-build.yml`) –æ–±–Ω–æ–≤–ª—ë–Ω:

```yaml
- name: Configure CMake
  run: |
    # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ UTF-8
    [Console]::OutputEncoding = [System.Text.Encoding]::UTF8
    $env:PYTHONUTF8 = "1"
    
    cmake -B build -S . ...
```

---

## üìä –ü–æ—á–µ–º—É –ù–ï –í–∏–Ω–æ–≤–∞—Ç VS Code?

VS Code ‚Äî —ç—Ç–æ **—Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä**, –∞ –Ω–µ **—Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏**.

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –ö–æ–¥–∏—Ä–æ–≤–∫–∞ |
|-----------|----------------|-----------|
| **VS Code** | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ | ‚úÖ UTF-8 (–≤—Å–µ–≥–¥–∞) |
| **PowerShell** | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ | ‚ùå CP-1251 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| **CMake** | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è build-—Å–∏—Å—Ç–µ–º—ã | ‚ö†Ô∏è –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω—Å–æ–ª–∏ |
| **MSVC** | –ö–æ–º–ø–∏–ª—è—Ü–∏—è C++ | ‚ö†Ô∏è –û–∂–∏–¥–∞–µ—Ç UTF-8 BOM |
| **Windows** | –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ | ‚úÖ Unicode (NTFS) |
| **Windows API** | –°–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã | ‚ùå ANSI (—Å—Ç–∞—Ä–æ–µ API) |

**–í—ã–≤–æ–¥:** VS Code –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç PowerShell, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç CMake, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç MSVC. –ö–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ –∫–æ–¥–∏—Ä–æ–≤–∫–µ.

---

## üõ°Ô∏è –ö–∞–∫ –¢–µ–ø–µ—Ä—å –ó–∞—â–∏—â–µ–Ω—ã?

### ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- –í—Å–µ —Ç–∞—Å–∫–∏ VS Code –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∑–∞—â–∏—â—ë–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü–µ –≤ –ø—É—Ç–∏
- UTF-8 —Ñ–æ—Ä—Å–∏—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ PowerShell

### ‚úÖ CI/CD
- GitHub Actions —è–≤–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç UTF-8
- –†–∞–Ω–Ω–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø—É—Ç–∏ (–Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã)

### ‚úÖ –ù–æ–≤—ã–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–µ
- –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

---

## üéì –£—Ä–æ–∫–∏

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Ä–∞–∑ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞
2. ‚úÖ –Ø–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –ª—É—á—à–µ, —á–µ–º –Ω–∞–¥–µ–∂–¥–∞ –Ω–∞ "–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏–π —ç–∫–æ–Ω–æ–º–∏—Ç —á–∞—Å—ã –æ—Ç–ª–∞–¥–∫–∏

### –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. ‚ùå –ù–∞–¥–µ–∂–¥–∞, —á—Ç–æ "–≤ 2025 UTF-8 –≤–µ–∑–¥–µ"
2. ‚ùå –î–æ–≤–µ—Ä–∏–µ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º Windows –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
3. ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π CMake

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è):
1. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø—É—Ç—å
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WSL2 (—Ç–∞–º UTF-8 —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏)
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PowerShell 7.x (–ª—É—á—à–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ UTF-8)
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ninja –≤–º–µ—Å—Ç–æ MSBuild (–º–µ–Ω—å—à–µ –ø—Ä–æ–±–ª–µ–º —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π)

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –†–µ—Å—É—Ä—Å—ã

- [CMake FAQ: Non-ASCII characters](https://cmake.org/cmake/help/latest/manual/cmake-language.7.html#encoding)
- [PowerShell: About Character Encoding](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_character_encoding)
- [MSVC: UTF-8 Source Files](https://learn.microsoft.com/en-us/cpp/build/reference/utf-8-set-source-and-executable-character-sets-to-utf-8)

---

## üîÆ –ë—É–¥—É—â–∏–µ –£–ª—É—á—à–µ–Ω–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –≤ pre-commit hook
- [ ] –°–æ–∑–¥–∞—Ç—å PowerShell –º–æ–¥—É–ª—å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è Linux/macOS (—Ç–∞–º —ç—Ç–∞ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –∞–∫—Ç—É–∞–ª—å–Ω–∞)
- [ ] –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Ninja generator (–±—ã—Å—Ç—Ä–µ–µ –∏ –º–µ–Ω—å—à–µ –ø—Ä–æ–±–ª–µ–º)

---

**–°—Ç–∞—Ç—É—Å:** –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞. –ó–∞—â–∏—Ç–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∞ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö.  
**–ê–≤—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è:** –ö–ª–∞—É–¥ (Codex)  
**–î–∞—Ç–∞:** 16 –¥–µ–∫–∞–±—Ä—è 2025
