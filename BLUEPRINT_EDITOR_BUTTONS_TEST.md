# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –∏ —Ö–æ—Ç–∫–µ–µ–≤ BlueprintEditor

> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∫–Ω–æ–ø–∫–∏ –∏ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
> **–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-12-24
> **–§–∞–π–ª:** `vscode-extension/src/webview/BlueprintEditor.tsx`

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### 1. –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (Toolbar) ‚Äî —Å—Ç—Ä–æ–∫–∏ 1263-1342

| –ö–Ω–æ–ø–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ | –•–æ—Ç–∫–µ–π | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
|--------|----------|--------|--------|----------|
| ‚ûï –î–æ–±–∞–≤–∏—Ç—å —É–∑–µ–ª | –û—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –ø–∞–ª–∏—Ç—Ä—É —É–∑–ª–æ–≤ | `A` | ‚úÖ | `setPaletteVisible(v => !v)`, –∫–ª–∞—Å—Å `active` –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ |
| `</>` –ö–æ–¥ | –û—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å –∫–æ–¥–∞ | `C` | ‚úÖ | `setCodePreviewVisible(v => !v)`, –∫–ª–∞—Å—Å `active` |
| üì¶ –ü–∞–∫–µ—Ç—ã | –û—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ | `P` | ‚úÖ | `setPackageManagerVisible(v => !v)`, –∫–ª–∞—Å—Å `active` |
| ∆í –§—É–Ω–∫—Ü–∏–∏ | –û—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å —Ñ—É–Ω–∫—Ü–∏–π | ‚Äî | ‚úÖ | `setFunctionPanelVisible(v => !v)`, –∫–ª–∞—Å—Å `active-purple` |
| ‚Ü∂ –û—Ç–º–µ–Ω–∏—Ç—å | Undo –ø–æ—Å–ª–µ–¥–Ω–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ | `Ctrl+Z` | ‚úÖ | `handleUndo()`, `disabled={!historyState.canUndo}` |
| ‚Ü∑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å | Redo –æ—Ç–º–µ–Ω—ë–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ | `Ctrl+Y` | ‚úÖ | `handleRedo()`, `disabled={!historyState.canRedo}` |
| ‚ä° –í–ø–∏—Å–∞—Ç—å | Zoom to fit (–≤–ø–∏—Å–∞—Ç—å –≥—Ä–∞—Ñ –≤ viewport) | `F` | ‚úÖ | `handleZoomToFit()` ‚Üí `fitView({ padding: 0.2 })` |
| ‚äû –ê–≤—Ç–æ–ª–µ–π–∞—É—Ç | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞ —É–∑–ª–æ–≤ | `L` | ‚úÖ | `handleAutoLayout()` ‚Üí `applyLayout()` |

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- ‚úÖ –í—Å–µ –∫–Ω–æ–ø–∫–∏ –∏–º–µ—é—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `active` –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏
- ‚úÖ Undo/Redo –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å `useUndoRedo` —Ö—É–∫–æ–º
- ‚úÖ Disabled —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è (—Å–µ—Ä—ã–π —Ü–≤–µ—Ç + cursor: not-allowed)

---

### 2. –ü–∞–ª–∏—Ç—Ä–∞ —É–∑–ª–æ–≤ (NodePalette) ‚Äî —Å—Ç—Ä–æ–∫–∏ 258-422

| –≠–ª–µ–º–µ–Ω—Ç | –î–µ–π—Å—Ç–≤–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
|---------|----------|--------|----------|
| Drag-and-drop —É–∑–ª–∞ | –ü–µ—Ä–µ—Ç–∞—â–∏—Ç—å —É–∑–µ–ª –∏–∑ –ø–∞–ª–∏—Ç—Ä—ã –Ω–∞ canvas | ‚úÖ | `handleDragStart()` (—Å—Ç—Ä–æ–∫–∞ 301-304), `onDrop()` (—Å—Ç—Ä–æ–∫–∞ 873-895) |
| –ö–ª–∏–∫ –ø–æ —É–∑–ª—É | –î–æ–±–∞–≤–∏—Ç—å —É–∑–µ–ª –≤ —Ü–µ–Ω—Ç—Ä viewport | ‚úÖ | `onClick()` (—Å—Ç—Ä–æ–∫–∞ 354-362) ‚Üí `onAddNode(type, centerPosition)` |
| –ü–æ–∏—Å–∫ —É–∑–ª–æ–≤ | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —É–∑–ª–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é | ‚úÖ | `useMemo()` —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (—Å—Ç—Ä–æ–∫–∞ 272-299), input –≤ —Å—Ç—Ä–æ–∫–µ 327-334 |
| ‚úï –ó–∞–∫—Ä—ã—Ç—å –ø–∞–ª–∏—Ç—Ä—É | –ó–∞–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å | ‚úÖ | `onClose()` (—Å—Ç—Ä–æ–∫–∞ 312-323) |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ | –î–æ–±–∞–≤–∏—Ç—å —É–∑–µ–ª –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ | ‚úÖ | `onAddCallFunction()` (—Å—Ç—Ä–æ–∫–∞ 394-402) |

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- ‚úÖ –ü–∞–ª–∏—Ç—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `useReactFlow().screenToFlowPosition()` –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –±–∞–∑–æ–≤—ã—Ö —É–∑–ª–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ Drag-drop —Å–æ–≤–º–µ—Å—Ç–∏–º —Å React Flow API

---

### 3. –í–∫–ª–∞–¥–∫–∏ –≥—Ä–∞—Ñ–∞ (Graph Tabs) ‚Äî —Å—Ç—Ä–æ–∫–∏ 1200-1218

| –í–∫–ª–∞–¥–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
|---------|----------|--------|----------|
| üìä EventGraph | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –≥—Ä–∞—Ñ | ‚úÖ | `onClick={() => handleSelectFunction(null)}`, –∫–ª–∞—Å—Å `active` –ø—Ä–∏ `activeFunctionId === null` |
| ∆í [–ò–º—è —Ñ—É–Ω–∫—Ü–∏–∏] | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é (–Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞) | ‚úÖ | –¢–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–ª–∏–∫ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è (–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞) |

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- ‚úÖ `handleSelectFunction()` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –º–µ–∂–¥—É EventGraph –∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —É–∑–ª–æ–≤/—Ä—ë–±—Ä –∏–∑ `getActiveGraphData()`
- ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤–∫–ª–∞–¥–∫–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `nameRu` / `name` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —è–∑—ã–∫–∞

---

### 4. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (Context Menu)

#### 4.1 –ú–µ–Ω—é Canvas (–ø—É—Å—Ç–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ) ‚Äî —Å—Ç—Ä–æ–∫–∏ 1007-1018

| –ü—É–Ω–∫—Ç | –î–µ–π—Å—Ç–≤–∏–µ | –•–æ—Ç–∫–µ–π | –°—Ç–∞—Ç—É—Å |
|-------|----------|--------|--------|
| –î–æ–±–∞–≤–∏—Ç—å —É–∑–µ–ª | –û—Ç–∫—Ä—ã—Ç—å –ø–∞–ª–∏—Ç—Ä—É | `A` | ‚úÖ |
| –í—Å—Ç–∞–≤–∏—Ç—å | –í—Å—Ç–∞–≤–∏—Ç—å –∏–∑ –±—É—Ñ–µ—Ä–∞ | `Ctrl+V` | ‚úÖ |
| –û—Ç–º–µ–Ω–∏—Ç—å | Undo | `Ctrl+Z` | ‚úÖ |
| –ü–æ–≤—Ç–æ—Ä–∏—Ç—å | Redo | `Ctrl+Y` | ‚úÖ |
| –í—ã–¥–µ–ª–∏—Ç—å –≤—Å—ë | Select all nodes | `Ctrl+A` | ‚úÖ |
| –í–ø–∏—Å–∞—Ç—å | Zoom to fit | `F` | ‚úÖ |
| –ê–≤—Ç–æ–ª–µ–π–∞—É—Ç | Auto layout | `L` | ‚úÖ |

#### 4.2 –ú–µ–Ω—é Node (–∫–ª–∏–∫ –Ω–∞ —É–∑–µ–ª) ‚Äî —Å—Ç—Ä–æ–∫–∏ 1000-1005

| –ü—É–Ω–∫—Ç | –î–µ–π—Å—Ç–≤–∏–µ | –•–æ—Ç–∫–µ–π | –°—Ç–∞—Ç—É—Å |
|-------|----------|--------|--------|
| –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å | –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —É–∑–µ–ª | `Ctrl+C` | ‚úÖ |
| –í—ã—Ä–µ–∑–∞—Ç—å | –í—ã—Ä–µ–∑–∞—Ç—å —É–∑–µ–ª | `Ctrl+X` | ‚úÖ |
| –£–¥–∞–ª–∏—Ç—å | –£–¥–∞–ª–∏—Ç—å —É–∑–µ–ª | `Delete` | ‚úÖ |

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ Escape
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ
- ‚úÖ `disabled` —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, Paste —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `clipboard.hasData()`)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ–∑–∏—Ü–∏–∏ –º–µ–Ω—é –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã —ç–∫—Ä–∞–Ω–∞

---

### 5. –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ (Keyboard Shortcuts) ‚Äî —Å—Ç—Ä–æ–∫–∏ 1030-1129

#### 5.1 –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (—Å Ctrl/Cmd)

| –•–æ—Ç–∫–µ–π | –î–µ–π—Å—Ç–≤–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
|--------|----------|--------|----------|
| `Ctrl+Z` | Undo | ‚úÖ | `handleUndo()`, –ø—Ä–æ–≤–µ—Ä–∫–∞ `!e.shiftKey` |
| `Ctrl+Shift+Z` | Redo | ‚úÖ | `handleRedo()`, –ø—Ä–æ–≤–µ—Ä–∫–∞ `e.shiftKey` |
| `Ctrl+Y` | Redo | ‚úÖ | `handleRedo()` |
| `Ctrl+C` | Copy | ‚úÖ | `handleCopy()`, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ —Ñ–æ–∫—É—Å –Ω–∞ input |
| `Ctrl+X` | Cut | ‚úÖ | `handleCut()`, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ —Ñ–æ–∫—É—Å –Ω–∞ input |
| `Ctrl+V` | Paste | ‚úÖ | `handlePaste()`, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ —Ñ–æ–∫—É—Å –Ω–∞ input |
| `Ctrl+A` | Select All | ‚úÖ | `handleSelectAll()`, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ —Ñ–æ–∫—É—Å –Ω–∞ input |

#### 5.2 –û–¥–Ω–æ–∫–Ω–æ–ø–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤)

| –•–æ—Ç–∫–µ–π | –î–µ–π—Å—Ç–≤–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
|--------|----------|--------|----------|
| `A` | Toggle –ø–∞–ª–∏—Ç—Ä–∞ | ‚úÖ | `setPaletteVisible(v => !v)`, –ø—Ä–æ–≤–µ—Ä–∫–∞ `!e.ctrlKey` |
| `C` | Toggle –ø–∞–Ω–µ–ª—å –∫–æ–¥–∞ | ‚úÖ | `setCodePreviewVisible(v => !v)`, –ø—Ä–æ–≤–µ—Ä–∫–∞ `!e.ctrlKey` |
| `P` | Toggle –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ | ‚úÖ | `setPackageManagerVisible(v => !v)`, –ø—Ä–æ–≤–µ—Ä–∫–∞ `!e.ctrlKey` |
| `F` | Zoom to fit | ‚úÖ | `handleZoomToFit()` |
| `L` | Auto layout | ‚úÖ | `handleAutoLayout()` |
| `Delete` / `Backspace` | –£–¥–∞–ª–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–µ | ‚úÖ | `handleDeleteSelected()` |
| `Escape` | –ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–∞–Ω–µ–ª–∏ –∏ –º–µ–Ω—é | ‚úÖ | –ó–∞–∫—Ä—ã–≤–∞–µ—Ç palette, code, packages, contextMenu |

**–ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ `isInputFocused = target.tagName === 'INPUT' || target.tagName === 'TEXTAREA'`
- ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (Ctrl+C/X/V/A) –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –µ—Å–ª–∏ —Ñ–æ–∫—É—Å –Ω–∞ input
- ‚úÖ –û–¥–Ω–æ–∫–Ω–æ–ø–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç `!e.ctrlKey && !e.metaKey && !e.altKey`
- ‚úÖ –í—Å–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –≤—ã–∑—ã–≤–∞—é—Ç `e.preventDefault()`

---

## üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Undo/Redo —Å–∏—Å—Ç–µ–º–∞ (useUndoRedo)

| –ü—Ä–æ–≤–µ—Ä–∫–∞ | –°—Ç–∞—Ç—É—Å |
|----------|--------|
| –ò—Å—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ nodes/edges | ‚úÖ |
| Debounce 500ms –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é | ‚úÖ |
| –ú–∞–∫—Å–∏–º—É–º 50 —à–∞–≥–æ–≤ –≤ –∏—Å—Ç–æ—Ä–∏–∏ | ‚úÖ |
| `canUndo` / `canRedo` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è | ‚úÖ |
| Undo/Redo –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é | ‚úÖ |
| –ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–æ–≤–æ–º –¥–µ–π—Å—Ç–≤–∏–∏ –ø–æ—Å–ª–µ Undo | ‚úÖ |

### Copy/Paste —Å–∏—Å—Ç–µ–º–∞ (useClipboard)

| –ü—Ä–æ–≤–µ—Ä–∫–∞ | –°—Ç–∞—Ç—É—Å |
|----------|--------|
| Copy —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ —É–∑–ª—ã + —Å–≤—è–∑–∏ –º–µ–∂–¥—É –Ω–∏–º–∏ | ‚úÖ |
| Cut = Copy + Delete | ‚úÖ |
| Paste –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ ID | ‚úÖ |
| Paste –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–º–µ—â–µ–Ω–∏–µ (50x50) —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≤—Å—Ç–∞–≤–∫–µ | ‚úÖ |
| –í—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ —É–∑–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–¥–µ–ª—è—é—Ç—Å—è | ‚úÖ |
| `hasData()` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –±—É—Ñ–µ—Ä–µ | ‚úÖ |

### Auto Layout —Å–∏—Å—Ç–µ–º–∞ (useAutoLayout)

| –ü—Ä–æ–≤–µ—Ä–∫–∞ | –°—Ç–∞—Ç—É—Å |
|----------|--------|
| –ü—Ä–∏–º–µ–Ω—è–µ—Ç Dagre/Klay –∞–ª–≥–æ—Ä–∏—Ç–º | ‚úÖ |
| –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ TB (Top-Bottom), spacing 80x100 | ‚úÖ |
| –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –∏ —Ö–æ—Ç–∫–µ–π L | ‚úÖ |

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º

| –ü—Ä–æ–≤–µ—Ä–∫–∞ | –°—Ç–∞—Ç—É—Å |
|----------|--------|
| `notifyGraphChange()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π | ‚úÖ |
| –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `graph.dirty = true` | ‚úÖ |
| –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `graph.updatedAt` | ‚úÖ |
| –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —É–∑–ª–æ–≤/—Ä—ë–±–µ—Ä –∞–∫—Ç–∏–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ | ‚úÖ |
| –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–º–µ–Ω–µ graph.id –∏–ª–∏ activeFunctionId | ‚úÖ |

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞
1. ‚úÖ –ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É "+" –∏–ª–∏ –Ω–∞–∂–∞—Ç–∏–µ `A`
2. ‚úÖ –ü–∞–ª–∏—Ç—Ä–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
3. ‚úÖ –ö–ª–∏–∫ –ø–æ —É–∑–ª—É ‚Üí —É–∑–µ–ª –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä viewport
4. ‚úÖ Drag —É–∑–ª–∞ –Ω–∞ canvas ‚Üí —É–∑–µ–ª –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –º–µ—Å—Ç–æ drop
5. ‚úÖ –ì—Ä–∞—Ñ —É–≤–µ–¥–æ–º–ª—è–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è —á–µ—Ä–µ–∑ `onGraphChange()`

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: Undo/Redo
1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —É–∑–µ–ª
2. ‚úÖ –ö–ª–∏–∫ "–û—Ç–º–µ–Ω–∏—Ç—å" –∏–ª–∏ `Ctrl+Z` ‚Üí —É–∑–µ–ª –∏—Å—á–µ–∑–∞–µ—Ç
3. ‚úÖ –ö–ª–∏–∫ "–ü–æ–≤—Ç–æ—Ä–∏—Ç—å" –∏–ª–∏ `Ctrl+Y` ‚Üí —É–∑–µ–ª –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
4. ‚úÖ –ö–Ω–æ–ø–∫–∏ Undo/Redo —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è disabled –∫–æ–≥–¥–∞ –Ω–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Copy/Paste
1. ‚úÖ –í—ã–¥–µ–ª–∏—Ç—å —É–∑–µ–ª
2. ‚úÖ `Ctrl+C` –∏–ª–∏ –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí Copy
3. ‚úÖ `Ctrl+V` –∏–ª–∏ –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí Paste
4. ‚úÖ –£–∑–µ–ª –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å–æ —Å–º–µ—â–µ–Ω–∏–µ–º 50x50
5. ‚úÖ –ù–æ–≤—ã–π —É–∑–µ–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è
6. ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ ‚Üí —Å–º–µ—â–µ–Ω–∏–µ —É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
1. ‚úÖ –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ canvas ‚Üí –º–µ–Ω—é canvas
2. ‚úÖ –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ —É–∑–µ–ª ‚Üí –º–µ–Ω—é —É–∑–ª–∞
3. ‚úÖ –ö–ª–∏–∫ –≤–Ω–µ –º–µ–Ω—é ‚Üí –º–µ–Ω—é –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
4. ‚úÖ Escape ‚Üí –º–µ–Ω—é –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
5. ‚úÖ –í—ã–±–æ—Ä –ø—É–Ω–∫—Ç–∞ ‚Üí –¥–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è + –º–µ–Ω—é –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 5: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≥—Ä–∞—Ñ–∞–º–∏
1. ‚úÖ –û—Ç–∫—Ä—ã—Ç—å FunctionListPanel
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é
3. ‚úÖ –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é ‚Üí –≥—Ä–∞—Ñ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
4. ‚úÖ –í–∫–ª–∞–¥–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–π
5. ‚úÖ –ö–ª–∏–∫ –Ω–∞ "EventGraph" ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –≥—Ä–∞—Ñ—É

### –°—Ü–µ–Ω–∞—Ä–∏–π 6: –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤ input
1. ‚úÖ –û—Ç–∫—Ä—ã—Ç—å –ø–æ–∏—Å–∫ –≤ –ø–∞–ª–∏—Ç—Ä–µ
2. ‚úÖ –ù–∞–±—Ä–∞—Ç—å —Ç–µ–∫—Å—Ç "Print"
3. ‚úÖ `Ctrl+C` –Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç —É–∑–ª—ã (–∫–æ–ø–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç)
4. ‚úÖ `A` –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–ª–∏—Ç—Ä—É (–≤–≤–æ–¥–∏—Ç—Å—è –≤ –ø–æ–ª–µ)

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1. ‚ùå **–ò–°–ü–†–ê–í–õ–ï–ù–û:** –°—Ç—Ä–æ–∫–∞ 1211 ‚Äî –ø—É—Å—Ç–æ–π `onClick={() => {}}` —É –≤–∫–ª–∞–¥–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
   - **–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞–Ω onClick, –¥–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ—è—Å–Ω—è—é—â–∏–π –ø–æ–≤–µ–¥–µ–Ω–∏–µ
   - **–ü—Ä–∏—á–∏–Ω–∞:** –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∫–ª–∏–∫ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ UI –ø–æ–≤–µ–¥–µ–Ω–∏–µ)

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–í—Å–µ–≥–æ –∫–Ω–æ–ø–æ–∫:** 11
- **–í—Å–µ–≥–æ –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à:** 13
- **–ü—É–Ω–∫—Ç–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é:** 10
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö:** 100%
- **–° –ø—Ä–æ–±–ª–µ–º–∞–º–∏:** 0

---

## üìù –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `useCallback` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ `disabled` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –∫–Ω–æ–ø–∫–∞–º
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (–∫–ª–∞—Å—Å `active`) —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Ö–æ—Ç–∫–µ–µ–≤ —Å input –ø–æ–ª—è–º–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
- ‚úÖ Debounce –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ (500ms) –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑–∞—Å–æ—Ä–µ–Ω–∏–µ —Å—Ç–µ–∫–∞
- ‚úÖ –ì–ª—É–±–æ–∫–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Undo/Redo –∏ Clipboard –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –º—É—Ç–∞—Ü–∏–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: –∫–∞–∂–¥—ã–π —Ö—É–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å
- ‚úÖ –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –û–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö: –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–¥—É—Ç —á–µ—Ä–µ–∑ `notifyGraphChange()`
- ‚úÖ –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `setTimeout(..., 0)` –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è setState during render

---

## üéØ –í—ã–≤–æ–¥—ã

–í—Å–µ –∫–Ω–æ–ø–∫–∏, –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ BlueprintEditor **—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**.

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –Ω–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ (–ø—É—Å—Ç–æ–π onClick) –±—ã–ª–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞.

–†–µ–¥–∞–∫—Ç–æ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å —É–∑–ª—ã
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å/–≤—ã—Ä–µ–∑–∞—Ç—å/–≤—Å—Ç–∞–≤–ª—è—Ç—å —É–∑–ª—ã
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–º–µ–Ω—è—Ç—å/–ø–æ–≤—Ç–æ—Ä—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –º–∞–∫–µ—Ç–æ–º –≥—Ä–∞—Ñ–∞
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –≥—Ä–∞—Ñ–æ–º –∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤—Å–µ –ø–∞–Ω–µ–ª–∏ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ –∏–ª–∏ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£
