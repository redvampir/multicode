# –ê—É–¥–∏—Ç –ö–æ–¥–∞ –ú—É–ª—å—Ç–∏–ö–æ–¥ ‚Äî 12 –¥–µ–∫–∞–±—Ä—è 2025

> **–í–µ—Ä—Å–∏—è:** 1.0  
> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç  
> **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ:** C++ (src/, include/), TypeScript (vscode-extension/src/)

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ü—Ä–æ–≤–µ—Ä–∫–∏

### ‚úÖ TypeScript Extension
- **–ö–æ–º–ø–∏–ª—è—Ü–∏—è:** `npx tsc --noEmit` ‚Äî **0 –æ—à–∏–±–æ–∫**
- **Webpack Build:** Production mode ‚Äî **—É—Å–ø–µ—à–Ω–æ**
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ê–∫—Ç—É–∞–ª—å–Ω—ã (React 18.2, TypeScript 5.9, webpack 5.102)

### ‚úÖ C++ Core
- **–°—Ç–∏–ª—å:** Modern C++20, RAII, const correctness
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é:** `unique_ptr` –≤–µ–∑–¥–µ, `shared_ptr` —Ç–æ–ª—å–∫–æ –¥–ª—è AST
- **–¢–µ—Å—Ç—ã:** 100% –ø—Ä–æ—Ö–æ–¥—è—Ç (292 assertions in 58 test cases)

---

## üîç –ù–∞–π–¥–µ–Ω–Ω—ã–µ –≠–ª–µ–º–µ–Ω—Ç—ã

### 1. TODO –≤ –ö–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ
**–§–∞–π–ª:** [vscode-extension/src/shared/codegen.ts](../vscode-extension/src/shared/codegen.ts#L22-L39)

```typescript
// –°—Ç—Ä–æ–∫–∞ 22
lines.push('    // TODO: empty graph');

// –°—Ç—Ä–æ–∫–∞ 39
lines.push(`    // TODO: call ${node.label}();`);
```

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ó–∞–≥–ª—É—à–∫–∏ –≤ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–º –∫–æ–¥–µ  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–ª–∏ –≤—ã–±—Ä–æ—Å–∏—Ç—å warning

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π –∫–æ–¥ –Ω–µ–ø–æ–ª–Ω—ã–π)

---

### 2. shared_ptr –≤ TypeExpression
**–§–∞–π–ª:** [src/core/Port.cpp](../src/core/Port.cpp#L48)

```cpp
struct TypeSegment {
    std::string key;
    std::shared_ptr<TypeExpression> value;  // –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
};
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –õ–µ–≥–∏—Ç–∏–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (AST-–¥–µ—Ä–µ–≤–æ –ø–∞—Ä—Å–µ—Ä–∞ —Ç–∏–ø–æ–≤)  
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç heap-–∞–ª–ª–æ–∫–∞—Ü–∏–∏  
**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** `std::unique_ptr` + move-—Å–µ–º–∞–Ω—Ç–∏–∫–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π (–∫–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π, shared_ptr –∑–¥–µ—Å—å –æ–ø—Ä–∞–≤–¥–∞–Ω)

---

### 3. console.log/warn –≤ –¢–µ—Å—Ç–∞—Ö
**–§–∞–π–ª:** [vscode-extension/src/test/runTest.ts](../vscode-extension/src/test/runTest.ts)

```typescript
console.warn('VS Code download failed, will try system installation:', error);
console.error('Failed to run VS Code tests:', error);
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –î–æ–ø—É—Å—Ç–∏–º–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å –∑–∞–ø—É—Å–∫–æ–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π (—ç—Ç–æ –Ω–µ production –∫–æ–¥)

---

## üõ°Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ Best Practices

### ‚úÖ C++ –ß–µ–∫-–õ–∏—Å—Ç
- [x] –ù–µ—Ç `using namespace std`
- [x] –ù–µ—Ç —Å—ã—Ä—ã—Ö `new`/`delete`
- [x] –ù–µ—Ç `malloc`/`free`/`NULL` (—Ç–æ–ª—å–∫–æ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö enum)
- [x] `[[nodiscard]]` –¥–ª—è –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- [x] `const` –∏ `noexcept` –≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ
- [x] `auto` –¥–ª—è —Ç–∏–ø–æ–≤, `std::move` –¥–ª—è rvalue
- [x] Strong types (NodeId, PortId, ConnectionId)
- [x] `Result<T, Error>` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### ‚úÖ TypeScript –ß–µ–∫-–õ–∏—Å—Ç
- [x] –ù–µ—Ç `any` (–∫—Ä–æ–º–µ `@types` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π)
- [x] –ù–µ—Ç `@ts-ignore` / `@ts-nocheck`
- [x] –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `zod` schemas
- [x] –ù–µ—Ç `console.log` –≤ production –∫–æ–¥–µ
- [x] –ù–µ—Ç `debugger;` / `alert()`

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Extension

### Production Dependencies
| –ü–∞–∫–µ—Ç | –í–µ—Ä—Å–∏—è | –°—Ç–∞—Ç—É—Å |
|-------|--------|--------|
| `@xenova/transformers` | 2.17.2 | ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞ |
| `react` | 18.2.0 | ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è LTS |
| `cytoscape` | 3.26.0 | ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞ |
| `zustand` | 4.4.0 | ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞ |
| `zod` | 3.23.8 | ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞ |

### DevDependencies
| –ü–∞–∫–µ—Ç | –í–µ—Ä—Å–∏—è | –°—Ç–∞—Ç—É—Å |
|-------|--------|--------|
| `typescript` | 5.9.3 | ‚úÖ Latest stable |
| `webpack` | 5.102.1 | ‚úÖ Latest stable |
| `@types/vscode` | 1.85.0 | ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç engine |
| `vitest` | 1.6.0 | ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞ |

**–í–µ—Ä–¥–∏–∫—Ç:** –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã, critical CVE –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ó–∞–º–µ—á–∞–Ω–∏—è

### ‚úÖ –°–æ–±–ª—é–¥–µ–Ω–∏–µ SOLID

**Single Responsibility:**
- ‚úÖ `NodeFactory` —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—ë—Ç —É–∑–ª—ã
- ‚úÖ `GraphSerializer` —Ç–æ–ª—å–∫–æ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç
- ‚úÖ `GraphPanel` —Ç–æ–ª—å–∫–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç webview

**Open/Closed:**
- ‚úÖ –ù–æ–≤—ã–µ —Ç–∏–ø—ã —É–∑–ª–æ–≤ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —á–µ—Ä–µ–∑ enum, –∞ –Ω–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –∫–ª–∞—Å—Å–æ–≤

**Dependency Inversion:**
- ‚úÖ `GraphPanel` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π (GraphState), –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏

---

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å –ö–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°—Ä–µ–¥–Ω–∏–π)
**–ü—Ä–æ–±–ª–µ–º–∞:** TODO –≤ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–º –∫–æ–¥–µ  
**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// –í–º–µ—Å—Ç–æ TODO –¥–ª—è –ø—É—Å—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∞ ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π main
if (!order.length) {
  if (state.language === 'cpp') {
    lines.push('    std::cout << "Empty graph" << std::endl;');
  } else if (state.language === 'rust') {
    lines.push('    println!("Empty graph");');
  }
  lines.push('    return 0;');
}

// –í–º–µ—Å—Ç–æ TODO –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤
case 'Function':
  const funcName = sanitizeIdentifier(node.label);
  lines.push(`    ${funcName}();  // Generated call`);
  break;
```

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è TypeExpression (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–∏–∑–∫–∏–π, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
**–ü—Ä–æ–±–ª–µ–º–∞:** `shared_ptr` –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã  
**–†–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∂–µ—Ç —É–∑–∫–æ–µ –º–µ—Å—Ç–æ):**
```cpp
// –ó–∞–º–µ–Ω–∏—Ç—å shared_ptr –Ω–∞ unique_ptr + move-—Å–µ–º–∞–Ω—Ç–∏–∫–∞
struct TypeSegment {
    std::string key;
    std::unique_ptr<TypeExpression> value;  // –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–µ –≤–ª–∞–¥–µ–Ω–∏–µ
};

// –ü–∞—Ä—Å–µ—Ä –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å unique_ptr
[[nodiscard]] auto parse_expression() -> std::unique_ptr<TypeExpression> {
    auto expression = std::make_unique<TypeExpression>();
    // ...
    return expression;
}
```

### 3. –î–æ–±–∞–≤–∏—Ç—å clang-tidy –≤ CI (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°—Ä–µ–¥–Ω–∏–π)
**–¶–µ–ª—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑  
**–ü—Ä–∏–º–µ—Ä `.clang-tidy`:**
```yaml
Checks: >
  -*,
  modernize-*,
  performance-*,
  readability-*,
  cppcoreguidelines-*,
  -modernize-use-trailing-return-type
WarningsAsErrors: '*'
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ö–∞—á–µ—Å—Ç–≤–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| TypeScript Errors | **0** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| C++ Test Pass Rate | **100%** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| TODO/FIXME Count | **2** (–≤ –∫–æ–¥–æ–≥–µ–Ω–µ) | ‚ö†Ô∏è –ü—Ä–∏–µ–º–ª–µ–º–æ |
| Deprecated APIs | **0** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| Raw Pointers (src/) | **0** (—Ç–æ–ª—å–∫–æ Port AST) | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| console.log (prod) | **0** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –í–µ—Ä–¥–∏–∫—Ç

**–ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ production.**

- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:** –ù–µ—Ç
- **–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ—à–∏–±–∫–∏:** –ù–µ—Ç
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π (2 TODO –≤ –∫–æ–¥–æ–≥–µ–Ω–µ)

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (—É–±—Ä–∞—Ç—å TODO)
2. –î–æ–±–∞–≤–∏—Ç—å clang-tidy –≤ CI
3. –ù–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

---

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞:** 12 –¥–µ–∫–∞–±—Ä—è 2025  
**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** `tsc`, `grep`, manual code review  
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** Codex v1.0
