# Package System (реальный статус)

На момент `0.1.0-alpha` никакого пакетного менеджера нет. Ни формата, ни CLI. Здесь зафиксирован минимальный каркас, который действительно нужен, чтобы делиться наборами узлов.

## Цель
Дать возможность описывать «пакет» узлов (узлы, шаблоны генерации, иконки) и подключать его в редактор без пересборки ядра.

## Минимальный формат
```
package.json
/nodes/*.json      // описание узлов (NodeType, порты, метаданные)
/codegen/*.tpl     // шаблоны генерации кода (опционально)
/assets/*          // иконки, локализация (опционально)
```

`package.json`
```json
{
  "name": "multicode.std",
  "version": "0.1.0",
  "targets": ["cpp"],
  "requiresCore": ">=0.1.0",
  "nodes": [
    "nodes/math/add.json",
    "nodes/flow/if.json"
  ]
}
```

## Что нужно реализовать
1. **Loader** (C++ / JSON): читает `package.json`, валидирует версии, грузит описания узлов. Путь: `visprog::pkg::Package`.
2. **Registry**: внутренняя таблица `NodeType -> Descriptor`, чтобы фабрика могла создавать узлы не только из enum, но и из описаний пакетов.
3. **CLI утилита** (опционально): `multicode-pack build <folder>` - проверяет структуру, собирает архив.
4. **VS Code интеграция**: настройка `multicode.packages` со списком путей, которые расширение монтирует в WebView.

## Что считать готовностью
- Критерий Done: можно положить файл `nodes/demo/add.json`, загрузить через loader, увидеть новый узел в UI и получить корректный код генератора (когда появится CodeGen).

## Риски
- Пока нет CodeGen, пакеты могут описывать только структуру узла (порты, тексты). Стоит учесть это в формате, чтобы шаблоны были необязательными.
